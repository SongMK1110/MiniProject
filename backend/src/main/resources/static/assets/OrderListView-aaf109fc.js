import{_ as k,f as B,o as w,c as f,d as V,F as L,b as t,g as y,M as A,h as v,t as d,p as j,j as x,H as O,r as g,a as h,e as C,l as R,m as U,q as E,s as M,x as W,y as S,z as q,A as H,B as Y,C as N,D as T,E as z,G,I as J,J as K,K as $,w as D,v as b}from"./index-ecfce85c.js";const P={props:["orderList","getImageUrl","orderDetail","addCommas","reviewBtn","isReviewWritten"],setup(){}};const I=n=>(j("data-v-6e210b9d"),n=n(),x(),n),Q={class:"item-info"},X=["src"],Z=I(()=>t("br",null,null,-1)),ee=["onClick"],te=I(()=>t("br",null,null,-1)),se={class:"item-actions"},ae=I(()=>t("br",null,null,-1)),ne=["onClick","disabled"];function re(n,a,o,e,u,m){const c=B("router-link");return w(!0),f(L,null,V(o.orderList,(l,i)=>(w(),f("tr",{key:i,class:"cart-item"},[t("td",Q,[y(c,{to:{name:"productDetailView",query:{id:l.productId}}},{default:A(()=>[t("span",null,[t("img",{src:o.getImageUrl(l.img),style:{width:"80px"}},null,8,X)]),Z]),_:2},1032,["to"]),v(" "+d(l.name),1)]),t("td",null,d(l.rdate),1),t("td",null,[t("span",{onClick:p=>o.orderDetail(l.orderId),style:{cursor:"pointer","text-decoration":"underline","font-weight":"bold"}},d(l.orderId),9,ee)]),t("td",null,[v(d(o.addCommas(l.price))+"원 ",1),te,v(" "+d(l.cnt)+"개 ",1)]),t("td",se,[v(" 배송 완료 "),ae,t("button",{onClick:p=>o.reviewBtn(l.productId),disabled:o.isReviewWritten(l.productId)},d(o.isReviewWritten(l.productId)?"후기작성완료":"후기작성"),9,ne)])]))),128)}const oe=k(P,[["render",re],["__scopeId","data-v-6e210b9d"]]);function le(n){return new URL(Object.assign({"/src/assets/images/강아지이미지.jpg":R,"/src/assets/images/검정 후드티.jpg":U,"/src/assets/images/검정 후드티2.jpg":E,"/src/assets/images/검정 후드티3.jpg":M,"/src/assets/images/고양이 이미지.png":W,"/src/assets/images/나이키 바지.jpg":S,"/src/assets/images/마이페이지.png":q,"/src/assets/images/슬랙스.jpg":H,"/src/assets/images/야구 잠바.jpg":Y,"/src/assets/images/양털 후리스.jpg":N,"/src/assets/images/청바지.jpg":T,"/src/assets/images/체크셔츠.jpg":z,"/src/assets/images/파란색 후드티.jpg":G,"/src/assets/images/패딩 조끼.jpg":J,"/src/assets/images/회색 후드티.jpg":K,"/src/assets/images/회색 후드티2.jpg":$})[`/src/assets/images/${n}`],self.location).href}function _(n){const a=n.getFullYear();let o=n.getMonth()+1,e=n.getDate();return o<10&&(o=`0${o}`),e<10&&(e=`0${e}`),`${a}-${o}-${e}`}const ie={name:"OrderListView",components:{OrderList:oe,HeaderView:O},setup(){const n=g([]),a=g([]),o=g(),e=g(),u=g(),m=s=>s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),c=s=>a.value.includes(s),l=s=>{C.push({name:"OrderDetailView",query:{orderId:s}})},i=()=>{if(e.value===void 0&&(e.value=""),u.value===void 0&&(u.value=""),e.value!==""&&u.value===""){alert("끝 날짜를 입력 해주세요");return}if(u.value!==""&&e.value===""){alert("시작 날짜를 입력 해주세요");return}h.get("api/searchOrderList",{params:{name:o.value,startDate:e.value,endDate:u.value}}).then(s=>{n.value=s.data,e.value="",u.value="",o.value=""}).catch(s=>{if(console.log(s),s.response.status===500){C.push("errorForm");return}if(s.response.data==="tenYearsAgo"){alert("10년전은 검색 할 수 없습니다.");return}else if(s.response.data==="nowAfter"){alert("현재 날짜 이후로는 검색 할 수 없습니다.");return}})},p=s=>{const r=new Date;switch(s){case"year":u.value=_(r),r.setFullYear(r.getFullYear()-1),e.value=_(r);break;case"week":u.value=_(r),r.setDate(r.getDate()-7),e.value=_(r);break;case"month":u.value=_(r),r.setMonth(r.getMonth()-1),e.value=_(r);break;case"3months":u.value=_(r),r.setMonth(r.getMonth()-3),e.value=_(r);break}};return h.get("/api/selectOrderList").then(s=>{n.value=s.data}).catch(s=>{if(console.log(s),s.response.status===500){C.push("errorForm");return}}),h.get("api/selectReview").then(s=>{a.value=s.data.map(r=>r.productId)}).catch(s=>{if(console.log(s),s.response.status===500){C.push("errorForm");return}}),{getImageUrl:le,orderList:n,addCommas:m,reviewBtn:s=>{C.push({name:"ReviewView",query:{productId:s}})},reviewList:a,isReviewWritten:c,orderDetail:l,searchBtn:i,searchInput:o,startDate:e,endDate:u,setDate:p}}};const F=n=>(j("data-v-57234845"),n=n(),x(),n),ue=F(()=>t("h1",null,"주문내역 조회",-1)),_e={style:{margin:"20px"}},de=F(()=>t("thead",null,[t("tr",null,[t("th",null,"상품정보"),t("th",null,"주문일자"),t("th",null,"주문번호"),t("th",null,"주문금액(수량)"),t("th",null,"주문 상태")])],-1));function ce(n,a,o,e,u,m){const c=B("HeaderView"),l=B("OrderList");return w(),f(L,null,[t("header",null,[y(c)]),t("div",null,[ue,t("div",_e,[t("button",{type:"button",class:"searchBtn",onClick:a[0]||(a[0]=i=>e.setDate("year"))},"최근 1년"),t("button",{type:"button",class:"searchBtn",onClick:a[1]||(a[1]=i=>e.setDate("week"))},"1주일"),t("button",{type:"button",class:"searchBtn",onClick:a[2]||(a[2]=i=>e.setDate("month"))},"1개월"),t("button",{type:"button",class:"searchBtn",onClick:a[3]||(a[3]=i=>e.setDate("3months"))},"3개월"),D(t("input",{type:"date","onUpdate:modelValue":a[4]||(a[4]=i=>e.startDate=i)},null,512),[[b,e.startDate]]),v(" - "),D(t("input",{type:"date","onUpdate:modelValue":a[5]||(a[5]=i=>e.endDate=i)},null,512),[[b,e.endDate]]),D(t("input",{style:{"margin-left":"5px"},type:"text",placeholder:"상품명으로 검색","onUpdate:modelValue":a[6]||(a[6]=i=>e.searchInput=i)},null,512),[[b,e.searchInput]]),t("button",{type:"button",class:"searchBtn",onClick:a[7]||(a[7]=(...i)=>e.searchBtn&&e.searchBtn(...i))},"조회하기")]),t("table",null,[de,t("tbody",null,[y(l,{orderList:e.orderList,getImageUrl:e.getImageUrl,orderDetail:e.orderDetail,addCommas:e.addCommas,reviewBtn:e.reviewBtn,isReviewWritten:e.isReviewWritten},null,8,["orderList","getImageUrl","orderDetail","addCommas","reviewBtn","isReviewWritten"])])])])],64)}const ve=k(ie,[["render",ce],["__scopeId","data-v-57234845"]]);export{ve as default};
