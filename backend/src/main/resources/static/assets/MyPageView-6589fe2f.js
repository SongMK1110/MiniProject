import{P as q,r as c,L as O,a as w,o,c as n,b as e,C as v,t as m,w as g,v as f,i as T,j as F,k as G,l as H,m as J,n as K,q as Q,s as W,x as X,y as Y,z as ee,A as se,B as te,p as ae,h as le,_ as oe}from"./index-f74d7f36.js";const u=k=>(ae("data-v-8092d403"),k=k(),le(),k),ne={class:"my-page"},ie=u(()=>e("h2",null,"마이 페이지",-1)),ce={class:"user-info"},ue={class:"profile-picture"},_e=["src"],pe={class:"info"},de={class:"item"},re=u(()=>e("span",{class:"label"},"아이디:",-1)),ve={class:"value"},me={class:"item"},ge=u(()=>e("span",{class:"label"},"비밀번호:",-1)),fe={key:0,class:"value"},ye={key:1,class:"value"},be={class:"password-change-fields"},he=u(()=>e("label",{for:"current-pw"},"현재 비밀번호:",-1)),we=u(()=>e("label",{for:"new-pw"},"신규 비밀번호:",-1)),ke=u(()=>e("label",{for:"confirm-new-pw"},"신규 비밀번호 재 입력:",-1)),xe={class:"item"},Ce=u(()=>e("span",{class:"label"},"이름:",-1)),Pe={class:"value"},je={class:"item"},$e=u(()=>e("span",{class:"label"},"닉네임:",-1)),Ve={key:0,class:"value"},Me={key:1,class:"value"},Ue={class:"password-change-fields"},Ie=u(()=>e("ul",{style:{"font-size":"small"}},[e("li",null,"길이는 최대 15자 이내로 작성해주세요"),e("li",null,"중복 닉네임 불가합니다."),e("li",null,`이모티콘 및 일부 특수문자 사용 불가합니다. &<>()'/"`)],-1)),Ne={class:"item"},ze=u(()=>e("span",{class:"label"},"이메일:",-1)),Ee={key:0,class:"value"},Ae={key:1,class:"value"},Be={class:"password-change-fields"},Se={class:"item"},Ze=u(()=>e("span",{class:"label"},"휴대전화:",-1)),De={key:0,class:"value"},Le={key:1,class:"value"},Re={class:"password-change-fields"},qe=q({__name:"MyPageView",setup(k){function N(a){return new URL(Object.assign({"/src/assets/images/검정 후드티.jpg":T,"/src/assets/images/검정 후드티2.jpg":F,"/src/assets/images/검정 후드티3.jpg":G,"/src/assets/images/나이키 바지.jpg":H,"/src/assets/images/마이페이지.png":J,"/src/assets/images/슬랙스.jpg":K,"/src/assets/images/야구 잠바.jpg":Q,"/src/assets/images/양털 후리스.jpg":W,"/src/assets/images/청바지.jpg":X,"/src/assets/images/체크셔츠.jpg":Y,"/src/assets/images/패딩 조끼.jpg":ee,"/src/assets/images/회색 후드티.jpg":se,"/src/assets/images/회색 후드티2.jpg":te})[`/src/assets/images/${a}`],self.location).href}function z(a){return"*".repeat(a.length)}const i=c(),y=c(!1),b=c(),r=c(),h=c(),x=c(!1),p=c(),C=c(!1),d=c(),P=c(!1),_=c(),E=()=>{var s;if(((s=i.value)==null?void 0:s.pw)!==b.value){alert("현재 비밀번호가 다릅니다."),b.value="";return}if(r.value!==h.value){alert("신규 비밀번호가 다릅니다."),r.value="",h.value="";return}window.confirm("변경 하시겠습니까?")&&w.post("api/updateMypage",{pw:r.value}).then(t=>{console.log(t),t.data==="success"&&location.reload()}).catch(t=>{console.log(t)})},A=()=>{y.value=!1,b.value="",r.value="",h.value=""},B=()=>{x.value=!1,p.value=""},S=()=>{if(window.confirm("변경 하시겠습니까?")){const s=/[&<>()'"/]/g;if(p.value&&p.value.match(s)){alert("이모티콘 및 일부 특수문자 사용 불가합니다."),p.value="";return}w.post("api/updateMypage",{nickname:p.value}).then(t=>{if(t.data==="success")location.reload();else if(t.data==="duplication"){alert("중복된 닉네임 입니다.");return}}).catch(t=>{console.log(t)})}},Z=()=>{C.value=!1,d.value=""},D=()=>{const a=window.confirm("변경 하시겠습니까?"),s=/^[A-Za-z0-9_.-]+@[A-Za-z0-9-]+\.[A-Za-z0-9.-]+$/;if(a){if(d.value&&s.test(d.value)==!1){alert("이메일형식이 올바르지 않습니다."),d.value="";return}w.post("api/updateMypage",{email:d.value}).then(t=>{t.data==="success"&&location.reload()}).catch(t=>{console.log(t)})}},L=()=>{P.value=!1,_.value=""},R=()=>{const a=window.confirm("변경 하시겠습니까?"),s=/01[016789]-[^0][0-9]{2,3}-[0-9]{3,4}/;if(a){if(_.value&&s.test(_.value)==!1){alert("휴대폰형식이 올바르지 않습니다."),_.value="";return}w.post("api/updateMypage",{phone:_.value}).then(t=>{t.data==="success"&&location.reload()}).catch(t=>{console.log(t)})}};return O(_,a=>{a&&(_.value=a.replace(/[^0-9]/g,"").replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/,"$1-$2-$3").replace(/(--)$/,""))}),w.get("api/selectMember").then(a=>{i.value=a.data}).catch(a=>{console.log(a)}),(a,s)=>{var t,j,$,V,M,U,I;return o(),n("div",ne,[ie,e("div",ce,[e("div",ue,[i.value?(o(),n("img",{key:0,src:N((t=i.value)==null?void 0:t.img),alt:"프로필 사진"},null,8,_e)):v("",!0)]),e("div",pe,[e("div",de,[re,e("span",ve,m((j=i.value)==null?void 0:j.id),1)]),e("div",me,[ge,i.value&&!y.value?(o(),n("span",fe,m(z(($=i.value)==null?void 0:$.pw)),1)):y.value?(o(),n("span",ye,[e("div",be,[he,g(e("input",{type:"password","onUpdate:modelValue":s[0]||(s[0]=l=>b.value=l)},null,512),[[f,b.value]]),we,g(e("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=l=>r.value=l)},null,512),[[f,r.value]]),ke,g(e("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=l=>h.value=l)},null,512),[[f,h.value]])]),e("div",{style:{"text-align":"center"}},[e("button",{type:"button",style:{margin:"5px"},onClick:A},"취소"),e("button",{type:"button",style:{margin:"5px"},onClick:E},"완료")])])):v("",!0),y.value?v("",!0):(o(),n("button",{key:2,type:"button",onClick:s[3]||(s[3]=l=>y.value=!0)},"변경"))]),e("div",xe,[Ce,e("span",Pe,m((V=i.value)==null?void 0:V.name),1)]),e("div",je,[$e,x.value?(o(),n("span",Me,[e("div",Ue,[Ie,g(e("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=l=>p.value=l),placeholder:"닉네임 입력(최대 15자)",maxlength:"15"},null,512),[[f,p.value]])]),e("div",{style:{"text-align":"center"}},[e("button",{type:"button",style:{margin:"5px"},onClick:B},"취소"),e("button",{type:"button",style:{margin:"5px"},onClick:S},"완료")])])):(o(),n("span",Ve,m((M=i.value)==null?void 0:M.nickname),1)),x.value?v("",!0):(o(),n("button",{key:2,type:"button",onClick:s[5]||(s[5]=l=>x.value=!0)},"변경"))]),e("div",Ne,[ze,C.value?(o(),n("span",Ae,[e("div",Be,[g(e("input",{type:"email","onUpdate:modelValue":s[6]||(s[6]=l=>d.value=l),placeholder:"이메일을 입력해주세요"},null,512),[[f,d.value]])]),e("div",{style:{"text-align":"center"}},[e("button",{type:"button",style:{margin:"5px"},onClick:Z},"취소"),e("button",{type:"button",style:{margin:"5px"},onClick:D},"완료")])])):(o(),n("span",Ee,m((U=i.value)==null?void 0:U.email),1)),C.value?v("",!0):(o(),n("button",{key:2,type:"button",onClick:s[7]||(s[7]=l=>C.value=!0)},"변경"))]),e("div",Se,[Ze,P.value?(o(),n("span",Le,[e("div",Re,[g(e("input",{type:"email","onUpdate:modelValue":s[8]||(s[8]=l=>_.value=l),maxlength:"13",placeholder:"휴대폰 번호를 입력해주세요"},null,512),[[f,_.value]])]),e("div",{style:{"text-align":"center"}},[e("button",{type:"button",style:{margin:"5px"},onClick:L},"취소"),e("button",{type:"button",style:{margin:"5px"},onClick:R},"완료")])])):(o(),n("span",De,m((I=i.value)==null?void 0:I.phone),1)),P.value?v("",!0):(o(),n("button",{key:2,type:"button",onClick:s[9]||(s[9]=l=>P.value=!0)},"변경"))])])])])}}});const Te=oe(qe,[["__scopeId","data-v-8092d403"]]);export{Te as default};
