import{r as s,e as c,a as l,_ as f,o as g,c as m,b as a,f as r,w as d,v as p}from"./index-83141a34.js";const w={name:"LoginView",setup(){let u=s(""),o=s("");return{id:u,password:o,login:()=>{l.post("api/login",{id:u.value,pw:o.value}).then(n=>{if(console.log(n.data),n.data==="fail"){alert("아이디 또는 비밀번호가 잘못 되었습니다.");return}const i=n.data;localStorage.setItem("token",i),l.defaults.baseURL="http://localhost:8080",l.defaults.withCredentials=!0,l.defaults.headers.common.Authorization=`Bearer ${i}`,location.href="/"}).catch(n=>{console.error(n)})},signup:()=>{c.push("signForm")}}}},B=a("h1",null,"로그인 페이지",-1);function v(u,o,C,t,n,i){return g(),m("div",null,[B,a("div",null,[r(" 아이디 : "),d(a("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>t.id=e),type:"text"},null,512),[[p,t.id]]),r(" 비밀번호 : "),d(a("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>t.password=e),type:"password"},null,512),[[p,t.password]]),a("button",{onClick:o[2]||(o[2]=(...e)=>t.login&&t.login(...e))},"로그인"),a("button",{onClick:o[3]||(o[3]=(...e)=>t.signup&&t.signup(...e))},"회원가입")])])}const D=f(w,[["render",v]]);export{D as default};
