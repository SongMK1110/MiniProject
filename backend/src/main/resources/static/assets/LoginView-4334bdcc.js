import{a as u}from"./axios-21b846bc.js";import{r,d as l,_ as m,o as c,c as f,a,e as d,w as p,v as C}from"./index-0e0a53c4.js";const B={name:"LoginView",setup(){let i=r(""),o=r("");return{id:i,password:o,login:()=>{u.post("api/login",{id:i.value,pw:o.value}).then(e=>{if(console.log(e),e.data==="fail"){alert("아이디 또는 비밀번호가 잘못 되었습니다.");return}const s=e.data;localStorage.setItem("token",s),u.defaults.headers.common.Authorization=`Bearer ${s}`,l.push("/")}).catch(e=>{console.error(e)})},signup:()=>{l.push("/signForm")}}}},w=a("h1",null,"로그인 페이지",-1);function v(i,o,g,n,e,s){return c(),f("div",null,[w,a("div",null,[d(" 아이디 : "),p(a("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>n.id=t),type:"text"},null,512),[[C,n.id]]),d(" 비밀번호 : "),p(a("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>n.password=t),type:"password"},null,512),[[C,n.password]]),a("button",{onClick:o[2]||(o[2]=(...t)=>n.login&&n.login(...t))},"로그인"),a("button",{onClick:o[3]||(o[3]=(...t)=>n.signup&&n.signup(...t))},"회원가입")])])}const k=m(B,[["render",v]]);export{k as default};
