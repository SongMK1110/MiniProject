import{_ as f,I,o as b,c as B,d as F,F as A,b as t,K as k,L as V,f as g,t as _,p as L,h as j,r as c,a as p,i as O,j as R,k as U,l as E,m as W,n as M,q as S,s as q,x as N,y as Y,z as T,A as z,B as K,C as $,D as G,E as H,e as y,w as h,v as D}from"./index-230e3c20.js";const J={props:["orderList","getImageUrl","orderDetail","addCommas","reviewBtn","isReviewWritten"],setup(){}};const w=o=>(L("data-v-6e210b9d"),o=o(),j(),o),P={class:"item-info"},Q=["src"],X=w(()=>t("br",null,null,-1)),Z=["onClick"],ee=w(()=>t("br",null,null,-1)),te={class:"item-actions"},se=w(()=>t("br",null,null,-1)),ae=["onClick","disabled"];function ne(o,a,i,e,r,C){const d=I("router-link");return b(!0),B(A,null,F(i.orderList,(s,v)=>(b(),B("tr",{key:v,class:"cart-item"},[t("td",P,[k(d,{to:{name:"productDetailView",query:{id:s.productId}}},{default:V(()=>[t("span",null,[t("img",{src:i.getImageUrl(s.img),style:{width:"80px"}},null,8,Q)]),X]),_:2},1032,["to"]),g(" "+_(s.name),1)]),t("td",null,_(s.rdate),1),t("td",null,[t("span",{onClick:m=>i.orderDetail(s.orderId),style:{cursor:"pointer","text-decoration":"underline","font-weight":"bold"}},_(s.orderId),9,Z)]),t("td",null,[g(_(i.addCommas(s.price))+"원 ",1),ee,g(" "+_(s.cnt)+"개 ",1)]),t("td",te,[g(" 배송 완료 "),se,t("button",{onClick:m=>i.reviewBtn(s.productId),disabled:i.isReviewWritten(s.productId)},_(i.isReviewWritten(s.productId)?"후기작성완료":"후기작성"),9,ae)])]))),128)}const oe=f(J,[["render",ne],["__scopeId","data-v-6e210b9d"]]);function le(o){return new URL(Object.assign({"/src/assets/images/강아지이미지.jpg":O,"/src/assets/images/검정 후드티.jpg":R,"/src/assets/images/검정 후드티2.jpg":U,"/src/assets/images/검정 후드티3.jpg":E,"/src/assets/images/고양이 이미지.png":W,"/src/assets/images/나이키 바지.jpg":M,"/src/assets/images/마이페이지.png":S,"/src/assets/images/슬랙스.jpg":q,"/src/assets/images/야구 잠바.jpg":N,"/src/assets/images/양털 후리스.jpg":Y,"/src/assets/images/청바지.jpg":T,"/src/assets/images/체크셔츠.jpg":z,"/src/assets/images/파란색 후드티.jpg":K,"/src/assets/images/패딩 조끼.jpg":$,"/src/assets/images/회색 후드티.jpg":G,"/src/assets/images/회색 후드티2.jpg":H})[`/src/assets/images/${o}`],self.location).href}function u(o){const a=o.getFullYear();let i=o.getMonth()+1,e=o.getDate();return i<10&&(i=`0${i}`),e<10&&(e=`0${e}`),`${a}-${i}-${e}`}const ie={name:"OrderListView",components:{OrderList:oe},setup(){const o=c([]),a=c([]),i=c(),e=c(),r=c(),C=n=>n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),d=n=>a.value.includes(n),s=n=>{y.push({name:"OrderDetailView",query:{orderId:n}})},v=()=>{e.value===void 0&&(e.value=""),r.value===void 0&&(r.value=""),p.get("api/searchOrderList",{params:{name:i.value,startDate:e.value,endDate:r.value}}).then(n=>{o.value=n.data,e.value="",r.value="",i.value=""}).catch(n=>{console.log(n)})},m=n=>{const l=new Date;switch(n){case"year":r.value=u(l),l.setFullYear(l.getFullYear()-1),e.value=u(l);break;case"week":r.value=u(l),l.setDate(l.getDate()-7),e.value=u(l);break;case"month":r.value=u(l),l.setMonth(l.getMonth()-1),e.value=u(l);break;case"3months":r.value=u(l),l.setMonth(l.getMonth()-3),e.value=u(l);break}};return p.get("/api/selectOrderList").then(n=>{o.value=n.data}).catch(n=>{console.log(n)}),p.get("api/selectReview").then(n=>{a.value=n.data.map(l=>l.productId)}).catch(n=>{console.log(n)}),{getImageUrl:le,orderList:o,addCommas:C,reviewBtn:n=>{y.push({name:"ReviewView",query:{productId:n}})},reviewList:a,isReviewWritten:d,orderDetail:s,searchBtn:v,searchInput:i,startDate:e,endDate:r,setDate:m}}};const x=o=>(L("data-v-e835a48f"),o=o(),j(),o),re=x(()=>t("h1",null,"주문내역 조회",-1)),ue={style:{margin:"20px"}},_e=x(()=>t("thead",null,[t("tr",null,[t("th",null,"상품정보"),t("th",null,"주문일자"),t("th",null,"주문번호"),t("th",null,"주문금액(수량)"),t("th",null,"주문 상태")])],-1));function de(o,a,i,e,r,C){const d=I("OrderList");return b(),B("div",null,[re,t("div",ue,[t("button",{type:"button",class:"searchBtn",onClick:a[0]||(a[0]=s=>e.setDate("year"))},"최근 1년"),t("button",{type:"button",class:"searchBtn",onClick:a[1]||(a[1]=s=>e.setDate("week"))},"1주일"),t("button",{type:"button",class:"searchBtn",onClick:a[2]||(a[2]=s=>e.setDate("month"))},"1개월"),t("button",{type:"button",class:"searchBtn",onClick:a[3]||(a[3]=s=>e.setDate("3months"))},"3개월"),h(t("input",{type:"date","onUpdate:modelValue":a[4]||(a[4]=s=>e.startDate=s)},null,512),[[D,e.startDate]]),g(" - "),h(t("input",{type:"date","onUpdate:modelValue":a[5]||(a[5]=s=>e.endDate=s)},null,512),[[D,e.endDate]]),h(t("input",{style:{"margin-left":"5px"},type:"text",placeholder:"상품명으로 검색","onUpdate:modelValue":a[6]||(a[6]=s=>e.searchInput=s)},null,512),[[D,e.searchInput]]),t("button",{type:"button",class:"searchBtn",onClick:a[7]||(a[7]=(...s)=>e.searchBtn&&e.searchBtn(...s))},"조회하기")]),t("table",null,[_e,t("tbody",null,[k(d,{orderList:e.orderList,getImageUrl:e.getImageUrl,orderDetail:e.orderDetail,addCommas:e.addCommas,reviewBtn:e.reviewBtn,isReviewWritten:e.isReviewWritten},null,8,["orderList","getImageUrl","orderDetail","addCommas","reviewBtn","isReviewWritten"])])])])}const Ce=f(ie,[["render",de],["__scopeId","data-v-e835a48f"]]);export{Ce as default};
