import{_ as y,I,o as b,c as B,d as A,F,b as t,J as k,L as V,f as g,t as _,p as L,h as j,r as c,a as p,j as O,k as R,l as U,m as E,q as W,s as M,x as S,y as q,z as Y,A as N,B as T,C as z,D as G,E as H,G as J,H as $,e as f,w as h,v as D}from"./index-0e0b91ef.js";const K={props:["orderList","getImageUrl","orderDetail","addCommas","reviewBtn","isReviewWritten"],setup(){}};const w=l=>(L("data-v-6e210b9d"),l=l(),j(),l),P={class:"item-info"},Q=["src"],X=w(()=>t("br",null,null,-1)),Z=["onClick"],ee=w(()=>t("br",null,null,-1)),te={class:"item-actions"},se=w(()=>t("br",null,null,-1)),ae=["onClick","disabled"];function ne(l,n,i,e,r,C){const d=I("router-link");return b(!0),B(F,null,A(i.orderList,(s,v)=>(b(),B("tr",{key:v,class:"cart-item"},[t("td",P,[k(d,{to:{name:"productDetailView",query:{id:s.productId}}},{default:V(()=>[t("span",null,[t("img",{src:i.getImageUrl(s.img),style:{width:"80px"}},null,8,Q)]),X]),_:2},1032,["to"]),g(" "+_(s.name),1)]),t("td",null,_(s.rdate),1),t("td",null,[t("span",{onClick:m=>i.orderDetail(s.orderId),style:{cursor:"pointer","text-decoration":"underline","font-weight":"bold"}},_(s.orderId),9,Z)]),t("td",null,[g(_(i.addCommas(s.price))+"원 ",1),ee,g(" "+_(s.cnt)+"개 ",1)]),t("td",te,[g(" 배송 완료 "),se,t("button",{onClick:m=>i.reviewBtn(s.productId),disabled:i.isReviewWritten(s.productId)},_(i.isReviewWritten(s.productId)?"후기작성완료":"후기작성"),9,ae)])]))),128)}const le=y(K,[["render",ne],["__scopeId","data-v-6e210b9d"]]);function oe(l){return new URL(Object.assign({"/src/assets/images/강아지이미지.jpg":O,"/src/assets/images/검정 후드티.jpg":R,"/src/assets/images/검정 후드티2.jpg":U,"/src/assets/images/검정 후드티3.jpg":E,"/src/assets/images/고양이 이미지.png":W,"/src/assets/images/나이키 바지.jpg":M,"/src/assets/images/마이페이지.png":S,"/src/assets/images/슬랙스.jpg":q,"/src/assets/images/야구 잠바.jpg":Y,"/src/assets/images/양털 후리스.jpg":N,"/src/assets/images/청바지.jpg":T,"/src/assets/images/체크셔츠.jpg":z,"/src/assets/images/파란색 후드티.jpg":G,"/src/assets/images/패딩 조끼.jpg":H,"/src/assets/images/회색 후드티.jpg":J,"/src/assets/images/회색 후드티2.jpg":$})[`/src/assets/images/${l}`],self.location).href}function u(l){const n=l.getFullYear();let i=l.getMonth()+1,e=l.getDate();return i<10&&(i=`0${i}`),e<10&&(e=`0${e}`),`${n}-${i}-${e}`}const ie={name:"OrderListView",components:{OrderList:le},setup(){const l=c([]),n=c([]),i=c(),e=c(),r=c(),C=a=>a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),d=a=>n.value.includes(a),s=a=>{f.push({name:"OrderDetailView",query:{orderId:a}})},v=()=>{if(e.value===void 0&&(e.value=""),r.value===void 0&&(r.value=""),e.value!==""&&r.value===""){alert("끝 날짜를 입력 해주세요");return}if(r.value!==""&&e.value===""){alert("시작 날짜를 입력 해주세요");return}p.get("api/searchOrderList",{params:{name:i.value,startDate:e.value,endDate:r.value}}).then(a=>{l.value=a.data,e.value="",r.value="",i.value=""}).catch(a=>{if(console.log(a),a.response.status===500){alert("서버 오류 발생");return}if(a.response.data==="tenYearsAgo"){alert("10년전은 검색 할 수 없습니다.");return}else if(a.response.data==="nowAfter"){alert("현재 날짜 이후로는 검색 할 수 없습니다.");return}})},m=a=>{const o=new Date;switch(a){case"year":r.value=u(o),o.setFullYear(o.getFullYear()-1),e.value=u(o);break;case"week":r.value=u(o),o.setDate(o.getDate()-7),e.value=u(o);break;case"month":r.value=u(o),o.setMonth(o.getMonth()-1),e.value=u(o);break;case"3months":r.value=u(o),o.setMonth(o.getMonth()-3),e.value=u(o);break}};return p.get("/api/selectOrderList").then(a=>{l.value=a.data}).catch(a=>{if(console.log(a),a.response.status===500){alert("서버 오류 발생");return}}),p.get("api/selectReview").then(a=>{n.value=a.data.map(o=>o.productId)}).catch(a=>{console.log(a)}),{getImageUrl:oe,orderList:l,addCommas:C,reviewBtn:a=>{f.push({name:"ReviewView",query:{productId:a}})},reviewList:n,isReviewWritten:d,orderDetail:s,searchBtn:v,searchInput:i,startDate:e,endDate:r,setDate:m}}};const x=l=>(L("data-v-561a2643"),l=l(),j(),l),re=x(()=>t("h1",null,"주문내역 조회",-1)),ue={style:{margin:"20px"}},_e=x(()=>t("thead",null,[t("tr",null,[t("th",null,"상품정보"),t("th",null,"주문일자"),t("th",null,"주문번호"),t("th",null,"주문금액(수량)"),t("th",null,"주문 상태")])],-1));function de(l,n,i,e,r,C){const d=I("OrderList");return b(),B("div",null,[re,t("div",ue,[t("button",{type:"button",class:"searchBtn",onClick:n[0]||(n[0]=s=>e.setDate("year"))},"최근 1년"),t("button",{type:"button",class:"searchBtn",onClick:n[1]||(n[1]=s=>e.setDate("week"))},"1주일"),t("button",{type:"button",class:"searchBtn",onClick:n[2]||(n[2]=s=>e.setDate("month"))},"1개월"),t("button",{type:"button",class:"searchBtn",onClick:n[3]||(n[3]=s=>e.setDate("3months"))},"3개월"),h(t("input",{type:"date","onUpdate:modelValue":n[4]||(n[4]=s=>e.startDate=s)},null,512),[[D,e.startDate]]),g(" - "),h(t("input",{type:"date","onUpdate:modelValue":n[5]||(n[5]=s=>e.endDate=s)},null,512),[[D,e.endDate]]),h(t("input",{style:{"margin-left":"5px"},type:"text",placeholder:"상품명으로 검색","onUpdate:modelValue":n[6]||(n[6]=s=>e.searchInput=s)},null,512),[[D,e.searchInput]]),t("button",{type:"button",class:"searchBtn",onClick:n[7]||(n[7]=(...s)=>e.searchBtn&&e.searchBtn(...s))},"조회하기")]),t("table",null,[_e,t("tbody",null,[k(d,{orderList:e.orderList,getImageUrl:e.getImageUrl,orderDetail:e.orderDetail,addCommas:e.addCommas,reviewBtn:e.reviewBtn,isReviewWritten:e.isReviewWritten},null,8,["orderList","getImageUrl","orderDetail","addCommas","reviewBtn","isReviewWritten"])])])])}const Ce=y(ie,[["render",de],["__scopeId","data-v-561a2643"]]);export{Ce as default};
