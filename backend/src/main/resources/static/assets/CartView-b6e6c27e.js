import{u as A,r as c,a as b,D,i as w,j as x,k as q,l as I,m as j,n as S,q as V,s as E,x as Q,y as U,z as F,A as P,B as N,e as L,_ as z,E as M,o as C,c as g,b as t,w as h,v as O,C as R,G as f,F as T,d as G,H,I as X,f as p,t as m,p as J,h as K}from"./index-f28f60b9.js";function W(u){return new URL(Object.assign({"/src/assets/images/검정 후드티.jpg":w,"/src/assets/images/검정 후드티2.jpg":x,"/src/assets/images/검정 후드티3.jpg":q,"/src/assets/images/나이키 바지.jpg":I,"/src/assets/images/마이페이지.png":j,"/src/assets/images/슬랙스.jpg":S,"/src/assets/images/야구 잠바.jpg":V,"/src/assets/images/양털 후리스.jpg":E,"/src/assets/images/청바지.jpg":Q,"/src/assets/images/체크셔츠.jpg":U,"/src/assets/images/패딩 조끼.jpg":F,"/src/assets/images/회색 후드티.jpg":P,"/src/assets/images/회색 후드티2.jpg":N})[`/src/assets/images/${u}`],self.location).href}const Y={setup(){const u=A(),s=c([]),B=c(0),o=c([]),d=c(!1),v=c(!1),i=c(1),e=c(0),_=n=>n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");b.get("/api/cartList").then(n=>{s.value=n.data}).catch(n=>{console.log(n)});const r=(n,a)=>{window.confirm("삭제하시겠습니까?")&&(b.post("/api/deleteCart",{productId:n}).then(y=>{console.log(y)}).catch(y=>console.log(y)),s.value.splice(a,1))},k=()=>{const n=s.value.filter(a=>a.selected).map(a=>a.productId);if(n.length===0){alert("선택된 상품이 없습니다.");return}L.push({name:"OrderView",query:{id:u.query.id,products:n.join(",")}})};return D(()=>{s.value.every(n=>n.selected)?d.value=!0:d.value=!1}),{cartItems:s,route:u,totalPrice:B,getImageUrl:W,delCartBtn:r,selectedProducts:o,orderSelectedProducts:k,selectAll:d,toggleAllSelected:()=>{s.value.forEach(n=>{n.selected=!d.value})},addCommas:_,modal:v,quantity:i,incrementQuantity:()=>{i.value++},decrementQuantity:()=>{i.value>1&&i.value--},quantityBtn:(n,a)=>{e.value=a,v.value=!0,i.value=n},quantityChange:()=>{window.confirm("변경하시겠습니까?")&&b.post("api/updateCart",{cartId:e.value,cnt:i.value}).then(a=>{a.data==="success"&&location.reload()}).catch(a=>{console.log(a)})},cartId:e}}};const l=u=>(J("data-v-05f872ac"),u=u(),K(),u),Z={key:0,class:"black-bg"},$={class:"white-bg"},tt=l(()=>t("h2",null,"수량을 변경 해주세요",-1)),et=l(()=>t("label",{for:"quantity"},"수량:",-1)),st=l(()=>t("hr",null,null,-1)),ot=l(()=>t("h1",null,"장바구니",-1)),nt=l(()=>t("th",null,"상품명",-1)),lt=l(()=>t("th",null,"판매",-1)),at=l(()=>t("th",null,"수량",-1)),ut=l(()=>t("th",null,"주문금액",-1)),it=l(()=>t("th",null,"주문관리",-1)),ct=l(()=>t("th",null,"배송비/배송 형태",-1)),dt=["onUpdate:modelValue"],rt={class:"item-info"},_t=["src"],Ct=l(()=>t("br",null,null,-1)),gt={class:"item-actions"},mt=["onClick"],pt=["onClick"],vt=l(()=>t("td",null,[p(" 택배배송 "),t("br"),t("span",{style:{"font-weight":"bold"}},"배송비무료"),p(),t("br"),p(" 0원 이상 무료 ")],-1)),yt=l(()=>t("br",null,null,-1)),bt={style:{"text-align":"center"}};function ht(u,s,B,o,d,v){const i=M("router-link");return C(),g("div",null,[o.modal===!0?(C(),g("div",Z,[t("div",$,[t("button",{type:"button",onClick:s[0]||(s[0]=e=>o.modal=!1),style:{float:"right"}},"X"),tt,t("div",null,[et,t("button",{onClick:s[1]||(s[1]=(...e)=>o.decrementQuantity&&o.decrementQuantity(...e))},"-"),h(t("input",{type:"number",id:"quantity","onUpdate:modelValue":s[2]||(s[2]=e=>o.quantity=e),readonly:""},null,512),[[O,o.quantity]]),t("button",{onClick:s[3]||(s[3]=(...e)=>o.incrementQuantity&&o.incrementQuantity(...e))},"+")]),st,t("button",{type:"button",onClick:s[4]||(s[4]=e=>o.modal=!1),style:{"margin-right":"10px"}},"취소"),t("button",{type:"button",onClick:s[5]||(s[5]=(...e)=>o.quantityChange&&o.quantityChange(...e))},"변경")])])):R("",!0),ot,t("table",null,[t("thead",null,[t("tr",null,[t("th",null,[h(t("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=e=>o.selectAll=e),onClick:s[7]||(s[7]=(...e)=>o.toggleAllSelected&&o.toggleAllSelected(...e))},null,512),[[f,o.selectAll]])]),nt,lt,at,ut,it,ct])]),t("tbody",null,[(C(!0),g(T,null,G(o.cartItems,(e,_)=>(C(),g("tr",{key:_,class:"cart-item"},[t("td",null,[h(t("input",{type:"checkbox","onUpdate:modelValue":r=>e.selected=r},null,8,dt),[[f,e.selected]])]),t("td",rt,[H(i,{to:{name:"productDetailView",query:{id:e.productId}}},{default:X(()=>[t("span",null,[t("img",{src:o.getImageUrl(e.img),style:{width:"80px"}},null,8,_t)]),Ct]),_:2},1032,["to"]),p(" "+m(e.name),1)]),t("td",null,m(o.addCommas(e.price))+"원",1),t("td",null,m(e.cnt)+"개",1),t("td",null,m(o.addCommas(e.cnt*e.price))+"원",1),t("td",gt,[t("button",{type:"button",onClick:r=>o.quantityBtn(e.cnt,e.cartId),style:{"margin-right":"5px"}}," 수량 ",8,mt),t("button",{type:"button",onClick:r=>o.delCartBtn(e.productId,_)},"삭제",8,pt)]),vt]))),128))])]),yt,t("div",bt,[t("button",{onClick:s[8]||(s[8]=(...e)=>o.orderSelectedProducts&&o.orderSelectedProducts(...e)),type:"button",style:{cursor:"pointer","font-size":"20px",padding:"10px 20px",color:"white","background-color":"black"}}," 주문하기 ")])])}const qt=z(Y,[["render",ht],["__scopeId","data-v-05f872ac"]]);export{qt as default};
