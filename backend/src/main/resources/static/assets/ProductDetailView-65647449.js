import{u as A,r as u,a as f,i as B,j as I,k as j,l as h,m as w,n as q,q as x,s as S,x as T,e as Q,_ as P,o as g,c as m,b as s,F as U,d as V,t as d,w as L,v as N,p as R,h as F}from"./index-d9812bb2.js";function J(a){return new URL(Object.assign({"/src/assets/images/검정 후드티.jpg":B,"/src/assets/images/검정 후드티2.jpg":I,"/src/assets/images/검정 후드티3.jpg":j,"/src/assets/images/슬랙스.jpg":h,"/src/assets/images/야구 잠바.jpg":w,"/src/assets/images/청바지.jpg":q,"/src/assets/images/체크셔츠.jpg":x,"/src/assets/images/회색 후드티.jpg":S,"/src/assets/images/회색 후드티2.jpg":T})[`/src/assets/images/${a}`],self.location).href}function p(a){if(a!==null){var o=a.split(".")[1],i=o.replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(i).split("").map(function(l){return"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)}}const O={setup(){const a=A(),o=u(),i=u([]),t=localStorage.getItem("token"),l=p(t);let r="";l!==void 0&&(r=p(t).userName);const e=u(1),c=u(0),b=()=>{e.value++,_()},y=()=>{e.value>1&&(e.value--,_())},_=()=>{c.value=o.value.price*e.value},v=()=>{f.post("api/insertCart",{productId:a.query.id,memberId:r,cnt:e.value}).then(n=>{console.log(n)}).catch(n=>{console.log(n)})},D=()=>{window.confirm("장바구니에 상품을 넣으시겠습니까?")&&(v(),Q.push({name:"CartView",query:{userId:r}}))},k=()=>{alert("조하아요")};return f.post("api/productDetail",{productId:a.query.id}).then(n=>{console.log(n),o.value=n.data.productDetail,i.value=n.data.productDetailImg}).catch(n=>{console.log(n)}),{product:o,imgList:i,getImageUrl:J,token:t,parseJwt:p,userId:r,addToCart:v,confirmAddToCart:D,quantity:e,totalPrice:c,incrementQuantity:b,decrementQuantity:y,calculateTotalPrice:_,parseToken:l,likeBtn:k}}};const C=a=>(R("data-v-7c0fdd68"),a=a(),F(),a),E={class:"centered-content"},M=C(()=>s("h1",null,"상품 디테일 페이지",-1)),z={class:"image-list"},G=["src"],H=C(()=>s("br",null,null,-1)),K=C(()=>s("label",{for:"quantity"},"수량:",-1));function W(a,o,i,t,l,r){return g(),m("div",E,[M,s("div",null,[s("div",z,[(g(!0),m(U,null,V(t.imgList,(e,c)=>(g(),m("div",{key:c,class:"image-item"},[s("img",{src:t.getImageUrl(e.img),style:{width:"200px"}},null,8,G),H]))),128))]),s("h2",null,"이름: "+d(t.product.name),1),s("p",null,"가격: "+d(t.product.price)+"원",1),s("p",null,"설명: "+d(t.product.content),1)]),s("div",null,[s("div",null,[K,s("button",{onClick:o[0]||(o[0]=(...e)=>t.decrementQuantity&&t.decrementQuantity(...e))},"-"),L(s("input",{type:"number",id:"quantity","onUpdate:modelValue":o[1]||(o[1]=e=>t.quantity=e)},null,512),[[N,t.quantity]]),s("button",{onClick:o[2]||(o[2]=(...e)=>t.incrementQuantity&&t.incrementQuantity(...e))},"+")]),s("p",null,"총 가격: "+d(t.totalPrice)+"원",1)]),s("div",null,[s("button",{onClick:o[3]||(o[3]=(...e)=>t.likeBtn&&t.likeBtn(...e))},"좋아요"),s("button",{onClick:o[4]||(o[4]=(...e)=>t.confirmAddToCart&&t.confirmAddToCart(...e))},"장바구니")])])}const Y=P(O,[["render",W],["__scopeId","data-v-7c0fdd68"]]);export{Y as default};
