import{_ as k,f as b,o as B,c as w,d as A,F as L,b as t,g as f,M as F,h as C,t as d,p as j,j as x,H as O,r as g,a as p,l as R,m as U,q as E,s as M,x as W,y as S,z as q,A as H,B as Y,C as N,D as T,E as z,G,I as J,J as K,K as $,e as I,w as h,v as D}from"./index-6da869ab.js";const P={props:["orderList","getImageUrl","orderDetail","addCommas","reviewBtn","isReviewWritten"],setup(){}};const y=n=>(j("data-v-6e210b9d"),n=n(),x(),n),Q={class:"item-info"},X=["src"],Z=y(()=>t("br",null,null,-1)),ee=["onClick"],te=y(()=>t("br",null,null,-1)),se={class:"item-actions"},ae=y(()=>t("br",null,null,-1)),ne=["onClick","disabled"];function le(n,a,o,e,u,v){const c=b("router-link");return B(!0),w(L,null,A(o.orderList,(i,r)=>(B(),w("tr",{key:r,class:"cart-item"},[t("td",Q,[f(c,{to:{name:"productDetailView",query:{id:i.productId}}},{default:F(()=>[t("span",null,[t("img",{src:o.getImageUrl(i.img),style:{width:"80px"}},null,8,X)]),Z]),_:2},1032,["to"]),C(" "+d(i.name),1)]),t("td",null,d(i.rdate),1),t("td",null,[t("span",{onClick:m=>o.orderDetail(i.orderId),style:{cursor:"pointer","text-decoration":"underline","font-weight":"bold"}},d(i.orderId),9,ee)]),t("td",null,[C(d(o.addCommas(i.price))+"원 ",1),te,C(" "+d(i.cnt)+"개 ",1)]),t("td",se,[C(" 배송 완료 "),ae,t("button",{onClick:m=>o.reviewBtn(i.productId),disabled:o.isReviewWritten(i.productId)},d(o.isReviewWritten(i.productId)?"후기작성완료":"후기작성"),9,ne)])]))),128)}const oe=k(P,[["render",le],["__scopeId","data-v-6e210b9d"]]);function ie(n){return new URL(Object.assign({"/src/assets/images/강아지이미지.jpg":R,"/src/assets/images/검정 후드티.jpg":U,"/src/assets/images/검정 후드티2.jpg":E,"/src/assets/images/검정 후드티3.jpg":M,"/src/assets/images/고양이 이미지.png":W,"/src/assets/images/나이키 바지.jpg":S,"/src/assets/images/마이페이지.png":q,"/src/assets/images/슬랙스.jpg":H,"/src/assets/images/야구 잠바.jpg":Y,"/src/assets/images/양털 후리스.jpg":N,"/src/assets/images/청바지.jpg":T,"/src/assets/images/체크셔츠.jpg":z,"/src/assets/images/파란색 후드티.jpg":G,"/src/assets/images/패딩 조끼.jpg":J,"/src/assets/images/회색 후드티.jpg":K,"/src/assets/images/회색 후드티2.jpg":$})[`/src/assets/images/${n}`],self.location).href}function _(n){const a=n.getFullYear();let o=n.getMonth()+1,e=n.getDate();return o<10&&(o=`0${o}`),e<10&&(e=`0${e}`),`${a}-${o}-${e}`}const re={name:"OrderListView",components:{OrderList:oe,HeaderView:O},setup(){const n=g([]),a=g([]),o=g(),e=g(),u=g(),v=s=>s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),c=s=>a.value.includes(s),i=s=>{I.push({name:"OrderDetailView",query:{orderId:s}})},r=()=>{if(e.value===void 0&&(e.value=""),u.value===void 0&&(u.value=""),e.value!==""&&u.value===""){alert("끝 날짜를 입력 해주세요");return}if(u.value!==""&&e.value===""){alert("시작 날짜를 입력 해주세요");return}p.get("api/searchOrderList",{params:{name:o.value,startDate:e.value,endDate:u.value}}).then(s=>{n.value=s.data,e.value="",u.value="",o.value=""}).catch(s=>{if(console.log(s),s.response.status===500){alert("서버 오류 발생");return}if(s.response.data==="tenYearsAgo"){alert("10년전은 검색 할 수 없습니다.");return}else if(s.response.data==="nowAfter"){alert("현재 날짜 이후로는 검색 할 수 없습니다.");return}})},m=s=>{const l=new Date;switch(s){case"year":u.value=_(l),l.setFullYear(l.getFullYear()-1),e.value=_(l);break;case"week":u.value=_(l),l.setDate(l.getDate()-7),e.value=_(l);break;case"month":u.value=_(l),l.setMonth(l.getMonth()-1),e.value=_(l);break;case"3months":u.value=_(l),l.setMonth(l.getMonth()-3),e.value=_(l);break}};return p.get("/api/selectOrderList").then(s=>{n.value=s.data}).catch(s=>{if(console.log(s),s.response.status===500){alert("서버 오류 발생");return}}),p.get("api/selectReview").then(s=>{a.value=s.data.map(l=>l.productId)}).catch(s=>{if(console.log(s),s.response.status===500){alert("서버 오류 발생");return}}),{getImageUrl:ie,orderList:n,addCommas:v,reviewBtn:s=>{I.push({name:"ReviewView",query:{productId:s}})},reviewList:a,isReviewWritten:c,orderDetail:i,searchBtn:r,searchInput:o,startDate:e,endDate:u,setDate:m}}};const V=n=>(j("data-v-62ec62f7"),n=n(),x(),n),ue=V(()=>t("h1",null,"주문내역 조회",-1)),_e={style:{margin:"20px"}},de=V(()=>t("thead",null,[t("tr",null,[t("th",null,"상품정보"),t("th",null,"주문일자"),t("th",null,"주문번호"),t("th",null,"주문금액(수량)"),t("th",null,"주문 상태")])],-1));function ce(n,a,o,e,u,v){const c=b("HeaderView"),i=b("OrderList");return B(),w(L,null,[t("header",null,[f(c)]),t("div",null,[ue,t("div",_e,[t("button",{type:"button",class:"searchBtn",onClick:a[0]||(a[0]=r=>e.setDate("year"))},"최근 1년"),t("button",{type:"button",class:"searchBtn",onClick:a[1]||(a[1]=r=>e.setDate("week"))},"1주일"),t("button",{type:"button",class:"searchBtn",onClick:a[2]||(a[2]=r=>e.setDate("month"))},"1개월"),t("button",{type:"button",class:"searchBtn",onClick:a[3]||(a[3]=r=>e.setDate("3months"))},"3개월"),h(t("input",{type:"date","onUpdate:modelValue":a[4]||(a[4]=r=>e.startDate=r)},null,512),[[D,e.startDate]]),C(" - "),h(t("input",{type:"date","onUpdate:modelValue":a[5]||(a[5]=r=>e.endDate=r)},null,512),[[D,e.endDate]]),h(t("input",{style:{"margin-left":"5px"},type:"text",placeholder:"상품명으로 검색","onUpdate:modelValue":a[6]||(a[6]=r=>e.searchInput=r)},null,512),[[D,e.searchInput]]),t("button",{type:"button",class:"searchBtn",onClick:a[7]||(a[7]=(...r)=>e.searchBtn&&e.searchBtn(...r))},"조회하기")]),t("table",null,[de,t("tbody",null,[f(i,{orderList:e.orderList,getImageUrl:e.getImageUrl,orderDetail:e.orderDetail,addCommas:e.addCommas,reviewBtn:e.reviewBtn,isReviewWritten:e.isReviewWritten},null,8,["orderList","getImageUrl","orderDetail","addCommas","reviewBtn","isReviewWritten"])])])])],64)}const ve=k(re,[["render",ce],["__scopeId","data-v-62ec62f7"]]);export{ve as default};
