import{r as l,e as g,a as r,_ as c,o as f,c as m,b as a,f as s,w as d,v as p}from"./index-9205f9a2.js";const B={name:"LoginView",setup(){let u=l(""),o=l("");return{id:u,password:o,login:()=>{r.post("api/login",{id:u.value,pw:o.value}).then(e=>{if(console.log(e.data),e.data==="fail"){alert("아이디 또는 비밀번호가 잘못 되었습니다.");return}const i=e.data;r.defaults.headers.common.Authorization=`Bearer ${i}`,localStorage.setItem("token",i),location.href="/"}).catch(e=>{console.error(e)})},signup:()=>{g.push("signForm")}}}},w=a("h1",null,"로그인 페이지",-1);function v(u,o,C,t,e,i){return f(),m("div",null,[w,a("div",null,[s(" 아이디 : "),d(a("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>t.id=n),type:"text"},null,512),[[p,t.id]]),s(" 비밀번호 : "),d(a("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>t.password=n),type:"password"},null,512),[[p,t.password]]),a("button",{onClick:o[2]||(o[2]=(...n)=>t.login&&t.login(...n))},"로그인"),a("button",{onClick:o[3]||(o[3]=(...n)=>t.signup&&t.signup(...n))},"회원가입")])])}const D=c(B,[["render",v]]);export{D as default};
