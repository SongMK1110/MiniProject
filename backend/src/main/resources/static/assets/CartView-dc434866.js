import{_ as f,E as I,o as y,c as v,d as j,F as S,b as t,w as b,G as k,H as A,I as V,f as p,t as m,p as D,h as q,u as U,r as d,a as h,J as E,i as Q,j as L,k as F,l as P,m as N,n as z,q as M,s as O,x as R,y as T,z as G,A as H,B as J,C as X,e as K,v as W,D as Y}from"./index-d96fb694.js";const Z={props:["cartItems","quantityBtn","delCartBtn","getImageUrl","addCommas"]};const x=l=>(D("data-v-2d685602"),l=l(),q(),l),$=["onUpdate:modelValue"],tt={class:"item-info"},et=["src"],st=x(()=>t("br",null,null,-1)),nt={class:"item-actions"},ot=["onClick"],lt=["onClick"],at=x(()=>t("td",null,[p(" 택배배송 "),t("br"),t("span",{style:{"font-weight":"bold"}},"배송비무료"),p(),t("br"),p(" 0원 이상 무료 ")],-1));function ut(l,s,c,n,r,C){const i=I("router-link");return y(!0),v(S,null,j(c.cartItems,(e,g)=>(y(),v("tr",{key:g,class:"cart-item"},[t("td",null,[b(t("input",{type:"checkbox","onUpdate:modelValue":_=>e.selected=_},null,8,$),[[k,e.selected]])]),t("td",tt,[A(i,{to:{name:"productDetailView",query:{id:e.productId}}},{default:V(()=>[t("span",null,[t("img",{src:c.getImageUrl(e.img),style:{width:"80px"}},null,8,et)]),st]),_:2},1032,["to"]),p(" "+m(e.name),1)]),t("td",null,m(c.addCommas(e.price))+"원",1),t("td",null,m(e.cnt)+"개",1),t("td",null,m(c.addCommas(e.cnt*e.price))+"원",1),t("td",nt,[t("button",{type:"button",onClick:_=>c.quantityBtn(e.cnt,e.cartId),style:{"margin-right":"5px"}}," 수량 ",8,ot),t("button",{type:"button",onClick:_=>c.delCartBtn(e.productId,g)},"삭제",8,lt)]),at]))),128)}const it=f(Z,[["render",ut],["__scopeId","data-v-2d685602"]]);function ct(l){return new URL(Object.assign({"/src/assets/images/검정 후드티.jpg":Q,"/src/assets/images/검정 후드티2.jpg":L,"/src/assets/images/검정 후드티3.jpg":F,"/src/assets/images/고양이 이미지.png":P,"/src/assets/images/나이키 바지.jpg":N,"/src/assets/images/마이페이지.png":z,"/src/assets/images/슬랙스.jpg":M,"/src/assets/images/야구 잠바.jpg":O,"/src/assets/images/양털 후리스.jpg":R,"/src/assets/images/청바지.jpg":T,"/src/assets/images/체크셔츠.jpg":G,"/src/assets/images/패딩 조끼.jpg":H,"/src/assets/images/회색 후드티.jpg":J,"/src/assets/images/회색 후드티2.jpg":X})[`/src/assets/images/${l}`],self.location).href}const dt={setup(){const l=U(),s=d([]),c=d(0),n=d([]),r=d(!1),C=d(!1),i=d(1),e=d(0),g=o=>o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");h.get("/api/cartList").then(o=>{s.value=o.data}).catch(o=>{console.log(o)});const _=(o,a)=>{window.confirm("삭제하시겠습니까?")&&(h.post("/api/deleteCart",{productId:o}).then(B=>{console.log(B)}).catch(B=>console.log(B)),s.value.splice(a,1))},w=()=>{const o=s.value.filter(a=>a.selected).map(a=>a.productId);if(o.length===0){alert("선택된 상품이 없습니다.");return}K.push({name:"OrderView",query:{id:l.query.id,products:o.join(",")}})};return E(()=>{s.value.every(o=>o.selected)?r.value=!0:r.value=!1}),{cartItems:s,route:l,totalPrice:c,getImageUrl:ct,delCartBtn:_,selectedProducts:n,orderSelectedProducts:w,selectAll:r,toggleAllSelected:()=>{s.value.forEach(o=>{o.selected=!r.value})},addCommas:g,modal:C,quantity:i,incrementQuantity:()=>{i.value++},decrementQuantity:()=>{i.value>1&&i.value--},quantityBtn:(o,a)=>{e.value=a,C.value=!0,i.value=o},quantityChange:()=>{window.confirm("변경하시겠습니까?")&&h.post("api/updateCart",{cartId:e.value,cnt:i.value}).then(a=>{a.data==="success"&&location.reload()}).catch(a=>{console.log(a)})},cartId:e}},components:{CartList:it}};const u=l=>(D("data-v-3c6ecc9e"),l=l(),q(),l),rt={key:0,class:"black-bg"},_t={class:"white-bg"},Ct=u(()=>t("h2",null,"수량을 변경 해주세요",-1)),gt=u(()=>t("label",{for:"quantity"},"수량:",-1)),mt=u(()=>t("hr",null,null,-1)),pt=u(()=>t("h1",null,"장바구니",-1)),yt=u(()=>t("th",null,"상품명",-1)),vt=u(()=>t("th",null,"판매",-1)),Bt=u(()=>t("th",null,"수량",-1)),ht=u(()=>t("th",null,"주문금액",-1)),bt=u(()=>t("th",null,"주문관리",-1)),ft=u(()=>t("th",null,"배송비/배송 형태",-1)),It=u(()=>t("br",null,null,-1)),kt={style:{"text-align":"center"}};function At(l,s,c,n,r,C){const i=I("CartList");return y(),v("div",null,[n.modal===!0?(y(),v("div",rt,[t("div",_t,[t("button",{type:"button",onClick:s[0]||(s[0]=e=>n.modal=!1),style:{float:"right"}},"X"),Ct,t("div",null,[gt,t("button",{onClick:s[1]||(s[1]=(...e)=>n.decrementQuantity&&n.decrementQuantity(...e))},"-"),b(t("input",{type:"number",id:"quantity","onUpdate:modelValue":s[2]||(s[2]=e=>n.quantity=e),readonly:""},null,512),[[W,n.quantity]]),t("button",{onClick:s[3]||(s[3]=(...e)=>n.incrementQuantity&&n.incrementQuantity(...e))},"+")]),mt,t("button",{type:"button",onClick:s[4]||(s[4]=e=>n.modal=!1),style:{"margin-right":"10px"}},"취소"),t("button",{type:"button",onClick:s[5]||(s[5]=(...e)=>n.quantityChange&&n.quantityChange(...e))},"변경")])])):Y("",!0),pt,t("table",null,[t("thead",null,[t("tr",null,[t("th",null,[b(t("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=e=>n.selectAll=e),onClick:s[7]||(s[7]=(...e)=>n.toggleAllSelected&&n.toggleAllSelected(...e))},null,512),[[k,n.selectAll]])]),yt,vt,Bt,ht,bt,ft])]),t("tbody",null,[A(i,{cartItems:n.cartItems,quantityBtn:n.quantityBtn,delCartBtn:n.delCartBtn,getImageUrl:n.getImageUrl,addCommas:n.addCommas},null,8,["cartItems","quantityBtn","delCartBtn","getImageUrl","addCommas"])])]),It,t("div",kt,[t("button",{onClick:s[8]||(s[8]=(...e)=>n.orderSelectedProducts&&n.orderSelectedProducts(...e)),type:"button",style:{cursor:"pointer","font-size":"20px",padding:"10px 20px",color:"white","background-color":"black"}}," 주문하기 ")])])}const Ut=f(dt,[["render",At],["__scopeId","data-v-3c6ecc9e"]]);export{Ut as default};
