import{u as L,r as p,a as m,i as S,j as P,k as Q,l as T,m as N,n as E,q as F,s as J,x as M,y as O,z as w,A as z,e as G,_ as H,o as i,c as u,b as t,F as B,d as A,t as v,B as _,w as s,v as K,g as r,p as W,h as X}from"./index-aefe2354.js";function Y(c){return new URL(Object.assign({"/src/assets/images/검정 후드티.jpg":S,"/src/assets/images/검정 후드티2.jpg":P,"/src/assets/images/검정 후드티3.jpg":Q,"/src/assets/images/나이키 바지.jpg":T,"/src/assets/images/슬랙스.jpg":N,"/src/assets/images/야구 잠바.jpg":E,"/src/assets/images/양털 후리스.jpg":F,"/src/assets/images/청바지.jpg":J,"/src/assets/images/체크셔츠.jpg":M,"/src/assets/images/패딩 조끼.jpg":O,"/src/assets/images/회색 후드티.jpg":w,"/src/assets/images/회색 후드티2.jpg":z})[`/src/assets/images/${c}`],self.location).href}function R(c){if(c!==null){var l=c.split(".")[1],y=l.replace(/-/g,"+").replace(/_/g,"/"),e=decodeURIComponent(atob(y).split("").map(function(h){return"%"+("00"+h.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)}}const Z={setup(){const c=L(),l=p(),y=p([]),e=localStorage.getItem("token"),h=R(e);let f="";h!==void 0&&(f=R(e).userName);const a=p(1),C=p(""),n=p(!1),g=p(0),V=p([]),U=o=>o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),I=()=>{a.value++,k()},j=()=>{a.value>1&&(a.value--,k())},k=()=>{l.value!==void 0&&(C.value=U(l.value.price*a.value))},q=async()=>{if(window.confirm("장바구니에 상품을 넣으시겠습니까?"))try{const b=await m.post("api/cartCheck",{productId:c.query.id});if(console.log(b),b.data==="duplication"){alert("장바구니에 있습니다.");return}const D=await m.post("api/insertCart",{productId:c.query.id,cnt:a.value});console.log(D),D.data==="success"&&G.push({name:"CartView",query:{userId:f}})}catch(b){console.error(b)}},x=()=>{n.value=!n.value,n.value===!1?m.post("/api/deleteLike",{productId:c.query.id}).then(o=>{console.log(o)}).catch(o=>{console.log(o)}):m.post("/api/insertLike",{productId:c.query.id}).then(o=>{console.log(o)}).catch(o=>{console.log(o)})};return m.post("/api/productDetail",{productId:c.query.id}).then(o=>{o!==void 0&&(l.value=o.data.productDetail,y.value=o.data.productDetailImg),o.data.likeCheck>0?n.value=!0:n.value=!1}).catch(o=>{console.log(o)}),m.get("api/reviewProductDetail",{params:{productId:c.query.id}}).then(o=>{V.value=o.data}).catch(o=>{console.log(o)}),m.get("api/reviewRateAvg",{params:{productId:c.query.id}}).then(o=>{g.value=o.data,o.data<.5||o.data<1?g.value=.5:o.data<1.5?g.value=1:o.data<2?g.value=1.5:o.data<2.5?g.value=2:o.data<3?g.value=2.5:o.data<3.5?g.value=3:o.data<4?g.value=3.5:o.data<4.5?g.value=4:o.data<5?g.value=4.5:g.value=5}).catch(o=>{console.log(o)}),{product:l,imgList:y,getImageUrl:Y,token:e,parseJwt:R,userId:f,addToCart:q,quantity:a,totalPrice:C,incrementQuantity:I,decrementQuantity:j,calculateTotalPrice:k,parseToken:h,likeBtn:x,liked:n,addCommas:U,reviewList:V,averageRate:g}}};const d=c=>(W("data-v-dcfbd905"),c=c(),X(),c),$={class:"centered-content"},ee=d(()=>t("h1",null,"상품 디테일 페이지",-1)),ae={class:"image-list"},te=["src"],le=d(()=>t("br",null,null,-1)),oe={key:0},ne={key:1},de={key:2},se=d(()=>t("label",{for:"quantity"},"수량:",-1)),ie={key:0},ue={key:1},re={class:"average-rating"},ce=d(()=>t("h3",null,"전체 평균 별점",-1)),_e={class:"rate"},ge=d(()=>t("label",{title:"5점"},null,-1)),ve=d(()=>t("label",{class:"half",title:"4.5점"},null,-1)),pe=d(()=>t("label",{title:"4점"},null,-1)),me=d(()=>t("label",{class:"half",title:"3.5점"},null,-1)),Ce=d(()=>t("label",{title:"3점"},null,-1)),ye=d(()=>t("label",{class:"half",title:"2.5점"},null,-1)),he=d(()=>t("label",{title:"2점"},null,-1)),fe=d(()=>t("label",{class:"half",title:"1.5점"},null,-1)),be=d(()=>t("label",{title:"1점"},null,-1)),ke=d(()=>t("label",{class:"half",title:"0.5점"},null,-1)),Re={class:"review-section"},Ve=d(()=>t("h2",null,"상품 리뷰",-1)),Ue={class:"review-list"},De={class:"review-author"},Be={class:"review-rating"},Ae={class:"rate"},Ie=["onUpdate:modelValue"],je=d(()=>t("label",{title:"5점"},null,-1)),qe=["onUpdate:modelValue"],xe=d(()=>t("label",{class:"half",title:"4.5점"},null,-1)),Le=["onUpdate:modelValue"],Se=d(()=>t("label",{title:"4점"},null,-1)),Pe=["onUpdate:modelValue"],Qe=d(()=>t("label",{class:"half",title:"3.5점"},null,-1)),Te=["onUpdate:modelValue"],Ne=d(()=>t("label",{title:"3점"},null,-1)),Ee=["onUpdate:modelValue"],Fe=d(()=>t("label",{class:"half",title:"2.5점"},null,-1)),Je=["onUpdate:modelValue"],Me=d(()=>t("label",{title:"2점"},null,-1)),Oe=["onUpdate:modelValue"],we=d(()=>t("label",{class:"half",title:"1.5점"},null,-1)),ze=["onUpdate:modelValue"],Ge=d(()=>t("label",{title:"1점"},null,-1)),He=["onUpdate:modelValue"],Ke=d(()=>t("label",{class:"half",title:"0.5점"},null,-1)),We={class:"review-content"};function Xe(c,l,y,e,h,f){return i(),u("div",$,[ee,t("div",null,[t("div",ae,[(i(!0),u(B,null,A(e.imgList,(a,C)=>(i(),u("div",{key:C,class:"image-item"},[t("img",{src:e.getImageUrl(a.img),style:{width:"200px"}},null,8,te),le]))),128))]),e.product?(i(),u("h2",oe,"이름: "+v(e.product.name),1)):_("",!0),e.product?(i(),u("p",ne,"가격: "+v(e.addCommas(e.product.price))+"원",1)):_("",!0),e.product?(i(),u("p",de,"설명: "+v(e.product.content),1)):_("",!0)]),t("div",null,[t("div",null,[se,t("button",{onClick:l[0]||(l[0]=(...a)=>e.decrementQuantity&&e.decrementQuantity(...a))},"-"),s(t("input",{type:"number",id:"quantity","onUpdate:modelValue":l[1]||(l[1]=a=>e.quantity=a),readonly:""},null,512),[[K,e.quantity]]),t("button",{onClick:l[2]||(l[2]=(...a)=>e.incrementQuantity&&e.incrementQuantity(...a))},"+")]),e.totalPrice!=""?(i(),u("p",ie,"총 가격: "+v(e.totalPrice)+"원",1)):e.product?(i(),u("p",ue,"총 가격: "+v(e.addCommas(e.product.price))+"원",1)):_("",!0)]),t("div",null,[t("button",{style:{"margin-right":"10px"},onClick:l[3]||(l[3]=(...a)=>e.likeBtn&&e.likeBtn(...a))},v(e.liked?"좋아요 취소":"좋아요"),1),t("button",{onClick:l[4]||(l[4]=(...a)=>e.addToCart&&e.addToCart(...a))},"장바구니")]),t("div",re,[ce,t("fieldset",_e,[e.averageRate>=5?s((i(),u("input",{key:0,type:"radio",value:"5","onUpdate:modelValue":l[5]||(l[5]=a=>e.averageRate=a),readonly:""},null,512)),[[r,e.averageRate]]):_("",!0),ge,e.averageRate>=4.5?s((i(),u("input",{key:1,type:"radio",value:"4.5","onUpdate:modelValue":l[6]||(l[6]=a=>e.averageRate=a),readonly:""},null,512)),[[r,e.averageRate]]):_("",!0),ve,e.averageRate>=4?s((i(),u("input",{key:2,type:"radio",value:"4","onUpdate:modelValue":l[7]||(l[7]=a=>e.averageRate=a),readonly:""},null,512)),[[r,e.averageRate]]):_("",!0),pe,e.averageRate>=3.5?s((i(),u("input",{key:3,type:"radio",value:"3.5","onUpdate:modelValue":l[8]||(l[8]=a=>e.averageRate=a),readonly:""},null,512)),[[r,e.averageRate]]):_("",!0),me,e.averageRate>=3?s((i(),u("input",{key:4,type:"radio",value:"3","onUpdate:modelValue":l[9]||(l[9]=a=>e.averageRate=a),readonly:""},null,512)),[[r,e.averageRate]]):_("",!0),Ce,e.averageRate>=2.5?s((i(),u("input",{key:5,type:"radio",value:"2.5","onUpdate:modelValue":l[10]||(l[10]=a=>e.averageRate=a),readonly:""},null,512)),[[r,e.averageRate]]):_("",!0),ye,e.averageRate>=2?s((i(),u("input",{key:6,type:"radio",value:"2","onUpdate:modelValue":l[11]||(l[11]=a=>e.averageRate=a),readonly:""},null,512)),[[r,e.averageRate]]):_("",!0),he,e.averageRate>=1.5?s((i(),u("input",{key:7,type:"radio",value:"1.5","onUpdate:modelValue":l[12]||(l[12]=a=>e.averageRate=a),readonly:""},null,512)),[[r,e.averageRate]]):_("",!0),fe,e.averageRate>=1?s((i(),u("input",{key:8,type:"radio",value:"1","onUpdate:modelValue":l[13]||(l[13]=a=>e.averageRate=a),readonly:""},null,512)),[[r,e.averageRate]]):_("",!0),be,e.averageRate>=.5?s((i(),u("input",{key:9,type:"radio",value:"0.5","onUpdate:modelValue":l[14]||(l[14]=a=>e.averageRate=a),readonly:""},null,512)),[[r,e.averageRate]]):_("",!0),ke])]),t("div",Re,[Ve,t("ul",Ue,[(i(!0),u(B,null,A(e.reviewList,(a,C)=>(i(),u("li",{class:"review-item",key:C},[t("div",De,"작성자: "+v(a.name),1),t("div",Be,"평점: "+v(a.rate)+"/5",1),t("fieldset",Ae,[s(t("input",{type:"radio",value:"5","onUpdate:modelValue":n=>a.rate=n,readonly:""},null,8,Ie),[[r,a.rate]]),je,s(t("input",{type:"radio",value:"4.5","onUpdate:modelValue":n=>a.rate=n,readonly:""},null,8,qe),[[r,a.rate]]),xe,s(t("input",{type:"radio",value:"4","onUpdate:modelValue":n=>a.rate=n,readonly:""},null,8,Le),[[r,a.rate]]),Se,s(t("input",{type:"radio",value:"3.5","onUpdate:modelValue":n=>a.rate=n,readonly:""},null,8,Pe),[[r,a.rate]]),Qe,s(t("input",{type:"radio",value:"3","onUpdate:modelValue":n=>a.rate=n,readonly:""},null,8,Te),[[r,a.rate]]),Ne,s(t("input",{type:"radio",value:"2.5","onUpdate:modelValue":n=>a.rate=n,readonly:""},null,8,Ee),[[r,a.rate]]),Fe,s(t("input",{type:"radio",value:"2","onUpdate:modelValue":n=>a.rate=n,readonly:""},null,8,Je),[[r,a.rate]]),Me,s(t("input",{type:"radio",value:"1.5","onUpdate:modelValue":n=>a.rate=n,readonly:""},null,8,Oe),[[r,a.rate]]),we,s(t("input",{type:"radio",value:"1","onUpdate:modelValue":n=>a.rate=n,readonly:""},null,8,ze),[[r,a.rate]]),Ge,s(t("input",{type:"radio",value:"0.5","onUpdate:modelValue":n=>a.rate=n,readonly:""},null,8,He),[[r,a.rate]]),Ke]),t("div",We,v(a.content),1)]))),128))])])])}const Ze=H(Z,[["render",Xe],["__scopeId","data-v-dcfbd905"]]);export{Ze as default};
