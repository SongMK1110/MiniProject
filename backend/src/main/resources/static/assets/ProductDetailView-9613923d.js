import{u as I,r as u,a as m,i as h,j as A,k as j,l as w,m as q,n as x,q as S,s as T,x as Q,e as L,_ as P,o as p,c as C,b as o,F as U,d as V,t as c,w as N,v as R,p as E,h as F}from"./index-c4287464.js";function J(a){return new URL(Object.assign({"/src/assets/images/검정 후드티.jpg":h,"/src/assets/images/검정 후드티2.jpg":A,"/src/assets/images/검정 후드티3.jpg":j,"/src/assets/images/슬랙스.jpg":w,"/src/assets/images/야구 잠바.jpg":q,"/src/assets/images/청바지.jpg":x,"/src/assets/images/체크셔츠.jpg":S,"/src/assets/images/회색 후드티.jpg":T,"/src/assets/images/회색 후드티2.jpg":Q})[`/src/assets/images/${a}`],self.location).href}function v(a){if(a!==null){var s=a.split(".")[1],i=s.replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(i).split("").map(function(l){return"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)}}const O={setup(){const a=I(),s=u(),i=u([]),t=localStorage.getItem("token"),l=v(t);let r="";l!==void 0&&(r=v(t).userName);const e=u(1),d=u(0),_=u(!1),b=()=>{e.value++,g()},k=()=>{e.value>1&&(e.value--,g())},g=()=>{d.value=s.value.price*e.value},y=()=>{m.post("api/insertCart",{productId:a.query.id,cnt:e.value}).then(n=>{console.log(n)}).catch(n=>{console.log(n)})},D=()=>{window.confirm("장바구니에 상품을 넣으시겠습니까?")&&(y(),L.push({name:"CartView",query:{userId:r}}))},B=()=>{_.value=!_.value,m.post("api/insertLike",{memberId:r,productId:a.query.id}).then(n=>{console.log(n)}).catch(n=>{console.log(n)})};return m.post("api/productDetail",{productId:a.query.id}).then(n=>{console.log(n),s.value=n.data.productDetail,i.value=n.data.productDetailImg}).catch(n=>{console.log(n)}),{product:s,imgList:i,getImageUrl:J,token:t,parseJwt:v,userId:r,addToCart:y,confirmAddToCart:D,quantity:e,totalPrice:d,incrementQuantity:b,decrementQuantity:k,calculateTotalPrice:g,parseToken:l,likeBtn:B,liked:_}}};const f=a=>(E("data-v-d3f5de74"),a=a(),F(),a),M={class:"centered-content"},z=f(()=>o("h1",null,"상품 디테일 페이지",-1)),G={class:"image-list"},H=["src"],K=f(()=>o("br",null,null,-1)),W=f(()=>o("label",{for:"quantity"},"수량:",-1));function X(a,s,i,t,l,r){return p(),C("div",M,[z,o("div",null,[o("div",G,[(p(!0),C(U,null,V(t.imgList,(e,d)=>(p(),C("div",{key:d,class:"image-item"},[o("img",{src:t.getImageUrl(e.img),style:{width:"200px"}},null,8,H),K]))),128))]),o("h2",null,"이름: "+c(t.product.name),1),o("p",null,"가격: "+c(t.product.price)+"원",1),o("p",null,"설명: "+c(t.product.content),1)]),o("div",null,[o("div",null,[W,o("button",{onClick:s[0]||(s[0]=(...e)=>t.decrementQuantity&&t.decrementQuantity(...e))},"-"),N(o("input",{type:"number",id:"quantity","onUpdate:modelValue":s[1]||(s[1]=e=>t.quantity=e)},null,512),[[R,t.quantity]]),o("button",{onClick:s[2]||(s[2]=(...e)=>t.incrementQuantity&&t.incrementQuantity(...e))},"+")]),o("p",null,"총 가격: "+c(t.totalPrice)+"원",1)]),o("div",null,[o("button",{onClick:s[3]||(s[3]=(...e)=>t.likeBtn&&t.likeBtn(...e))},c(t.liked?"좋아요 취소":"좋아요"),1),o("button",{onClick:s[4]||(s[4]=(...e)=>t.confirmAddToCart&&t.confirmAddToCart(...e))},"장바구니")])])}const Z=P(O,[["render",X],["__scopeId","data-v-d3f5de74"]]);export{Z as default};
